let pagina = 1
const cita = { nombre: '', fecha: '', hora: '', servicios: [] }
document.addEventListener('DOMContentLoaded', function () {
	iniciarApp()
})
const iniciarApp = () => {
	mostrarServicios(),
		mostrarSeccion(),
		cambiarSeccion(),
		paginaSiguiente(),
		paginaAnterior(),
		botonesPaginador(),
		mostrarResumen()
}
function mostrarSeccion() {
	const e = document.querySelector('.mostrar-seccion')
	e && e.classList.remove('mostrar-seccion')
	document.querySelector('#paso-' + pagina).classList.add('mostrar-seccion')
	const o = document.querySelector('.tabs .actual')
	o && o.classList.remove('actual')
	document.querySelector(`[data-paso="${pagina}"]`).classList.add('actual')
}
function cambiarSeccion() {
	document.querySelectorAll('.tabs button').forEach((e) => {
		e.addEventListener('click', (e) => {
			e.preventDefault(),
				(pagina = parseInt(e.target.dataset.paso)),
				mostrarSeccion(),
				botonesPaginador()
		})
	})
}
async function mostrarServicios() {
	try {
		const e = await fetch('./servicios.json'),
			o = await e.json(),
			{ servicios: t } = o
		t.forEach((e) => {
			const { id: o, nombre: t, precio: a } = e,
				c = document.createElement('P')
			;(c.textContent = t), c.classList.add('nombre-servicio')
			const n = document.createElement('P')
			;(n.textContent = '$ ' + a), n.classList.add('precio-servicio')
			const i = document.createElement('DIV')
			i.classList.add('servicio'),
				(i.dataset.idServicio = o),
				(i.onclick = seleccionarServicio),
				i.appendChild(c),
				i.appendChild(n),
				document.querySelector('#servicios').appendChild(i)
		})
	} catch (e) {
		console.log(e)
	}
}
function seleccionarServicio(e) {
	let o
	;(o = 'P' === e.target.tagName ? e.target.parentElement : e.target),
		o.classList.contains('seleccionado')
			? o.classList.remove('seleccionado')
			: o.classList.add('seleccionado')
}
function paginaSiguiente() {
	document.querySelector('#siguiente').addEventListener('click', () => {
		pagina++, console.log(pagina), botonesPaginador()
	})
}
function paginaAnterior() {
	document.querySelector('#anterior').addEventListener('click', () => {
		pagina--, console.log(pagina), botonesPaginador()
	})
}
function botonesPaginador() {
	const e = document.querySelector('#siguiente'),
		o = document.querySelector('#anterior')
	1 === pagina
		? o.classList.add('ocultar')
		: 3 === pagina
		? (e.classList.add('ocultar'), o.classList.remove('ocultar'))
		: (o.classList.remove('ocultar'), e.classList.remove('ocultar')),
		mostrarSeccion()
}
function mostrarResumen() {
	console.log(cita), console.log('caca')
}
//sourceMappingURL=bundle.js.map
